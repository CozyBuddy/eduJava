package persistence;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;
import java.util.Date;

import domain.Viewvo;

public class EmpDAOImpl implements EmpDAO{
	private Connection conn = null ;
	private PreparedStatement pst = null ;
	private ResultSet rs = null ;
	//생성자를 통한 DI
	public EmpDAOImpl(Connection conn) {
		this.conn = conn;
	}
	//2. Setter를 통한 DI
		public void setConn(Connection conn) {
			this.conn = conn;
		}
	
	
	
	
	
	
	
	
	public ArrayList<Viewvo> getEmpS() {
		int empno;
        String ename;
        String job;
        int mgr;
        Date hiredate;
        int sal;
        int comm;
        int deptno;
        ResultSet rs ;
        String sql = "select * from emp";
        PreparedStatement pst = null ;
        try {
//           st = conn.createStatement();
            pst = conn.prepareStatement(sql);
            rs = pst.executeQuery();
//           rs = st.executeQuery(sql);
           while (rs.next()) {
              empno = rs.getInt(1);
              ename = rs.getString(2);
              job = rs.getString(3);
              mgr = rs.getInt(4);
              hire = rs.getString(5);
              sal = rs.getInt(6);
              comm = rs.getInt(7);
              deptno = rs.getInt(8);
              EMPVO ev = new EMPVO(empno,ename,job,mgr,hire,sal,comm,deptno);
              al.add(ev);
           }
           정보출력(al);
           
           
        } catch (SQLException e) {
           // TODO Auto-generated catch block
           e.printStackTrace();
        }
		return null;
	}

}
